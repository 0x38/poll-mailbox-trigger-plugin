<j:jelly xmlns:j="jelly:core" xmlns:f="/lib/form">

    <f:entry field="script" title="${%Email Properties}">
        <f:textarea name="script"
                    value="${instance.script}"
                    default="host=imap.gmail.com&#10;storeName=imaps&#10;username=&lt;your_email&gt;@gmail.com&#10;password=&lt;your_password&gt;&#10;folder=inbox&#10;subjectContains=jenkins&#10;receivedXMinutesAgo=60&#10;mail.imap.host=imap.gmail.com&#10;mail.imap.port=993"/>
    </f:entry>

    <f:validateButton
       title="${%Test Connection}" progress="${%Testing...}"
       method="testConnection" with="script" />

    <f:entry field="enableConcurrentBuild" title="${%Enable Concurrent Build}">
        <f:checkbox name="enableConcurrentBuild" checked="${instance.enableConcurrentBuild}"/>
    </f:entry>

    <f:entry title="${%Polling Node}">
        <f:entry>
            <table style="width:100%">
                <f:optionalBlock
                        name="labelRestriction"
                        field="labelRestriction"
                        checked="${instance.labelRestriction}"
                        title="${%Restrict where the polling can be run}">

                    <f:block>
                        <f:entry title="Label Expression">
                            <f:textbox name="triggerLabel"
                                       value="${instance.triggerLabel}"/>
                        </f:entry>
                    </f:block>
                </f:optionalBlock>
            </table>
        </f:entry>
    </f:entry>

    <f:entry title="${%Schedule}" help="/descriptor/hudson.triggers.TimerTrigger/help/spec">
        <f:textarea name="cronTabSpec"
                    checkUrl="'${rootURL}/trigger/TimerTrigger/check?value='+encodeURIComponent(this.value)"
                    value="${instance.spec}"/>
    </f:entry>

</j:jelly>
